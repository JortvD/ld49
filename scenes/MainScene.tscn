[gd_scene load_steps=16 format=2]

[ext_resource path="res://world/World.tscn" type="PackedScene" id=1]
[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://npc/NPC.tscn" type="PackedScene" id=3]
[ext_resource path="res://npc/Horse.tscn" type="PackedScene" id=4]
[ext_resource path="res://icon.png" type="Texture" id=5]
[ext_resource path="res://building/Building.tscn" type="PackedScene" id=6]
[ext_resource path="res://dialog/DialogueSystem.tscn" type="PackedScene" id=7]
[ext_resource path="res://objects/Fire.tscn" type="PackedScene" id=8]
[ext_resource path="res://npc/Handler1.gd" type="Script" id=9]
[ext_resource path="res://items/Items.gd" type="Script" id=10]
[ext_resource path="res://scenes/MainScene.gd" type="Script" id=11]
[ext_resource path="res://UI/GUI.tscn" type="PackedScene" id=12]
[ext_resource path="res://Blacken.gd" type="Script" id=13]
[ext_resource path="res://npc/DayNightCycle.tscn" type="PackedScene" id=14]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( -232, -224, 105.1, -243.29, 90.9422, -162.117, -150.69, -153.622, -384, 104, -145.97, 116.326, -152, 256, 129.641, 118.214, 129.641, -171.556, 523.237, -174.388, 432, 240, 160, 232, 134.361, 210.713, 56, 264 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 0, 3, 5, 6 ), PoolIntArray( 7, 8, 9, 10, 11, 12 ), PoolIntArray( 13, 6, 5, 7, 12 ) ]
outlines = [ PoolVector2Array( 134.361, 210.713, 160, 232, 432, 240, 523.237, -174.388, 129.641, -171.556, 129.641, 118.214, -145.97, 116.326, -150.69, -153.622, 90.9422, -162.117, 105.1, -243.29, -232, -224, -384, 104, -152, 256, 56, 264 ) ]

[node name="MainScene" type="Node2D"]
script = ExtResource( 11 )

[node name="World" parent="." instance=ExtResource( 1 )]

[node name="Fire" parent="World" instance=ExtResource( 8 )]
position = Vector2( 300, 400 )

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( 126.504, 282.362 )
z_index = 2

[node name="NPC" parent="." instance=ExtResource( 3 )]

[node name="Handler" type="Node" parent="NPC"]
script = ExtResource( 9 )

[node name="Navigation2D" type="Navigation2D" parent="."]

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation2D"]
position = Vector2( 9.51563, 17.2198 )
navpoly = SubResource( 1 )

[node name="Line2D" type="Line2D" parent="."]
points = PoolVector2Array( 84.7354, 83.5898 )
default_color = Color( 1, 0.4, 0.4, 1 )

[node name="Buildings" type="Node" parent="."]

[node name="Building" parent="Buildings" instance=ExtResource( 6 )]
position = Vector2( 246.367, 801.19 )
scale = Vector2( 4, 4 )
texture = ExtResource( 5 )
entrance_location = Vector2( 0, 35 )
entrance_shape = Vector2( 10, 5 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Dialog" parent="CanvasLayer" instance=ExtResource( 7 )]
mouse_filter = 2

[node name="GUI" parent="CanvasLayer" instance=ExtResource( 12 )]
mouse_filter = 2

[node name="Blacken" type="Panel" parent="CanvasLayer"]
modulate = Color( 0, 0, 0, 0 )
margin_left = -75.0
margin_top = -57.0
margin_right = 1050.0
margin_bottom = 623.0
mouse_filter = 2
script = ExtResource( 13 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Tween" type="Tween" parent="CanvasLayer/Blacken"]

[node name="Timer" type="Timer" parent="CanvasLayer/Blacken"]
wait_time = 0.5

[node name="DayNightCycle" parent="CanvasLayer" instance=ExtResource( 14 )]

[node name="Items" type="Node" parent="."]
script = ExtResource( 10 )

[node name="Horse" parent="." instance=ExtResource( 4 )]
position = Vector2( 560, 424 )

[connection signal="tween_completed" from="CanvasLayer/Blacken/Tween" to="CanvasLayer/Blacken" method="_on_Tween_tween_completed"]
[connection signal="timeout" from="CanvasLayer/Blacken/Timer" to="CanvasLayer/Blacken" method="_on_Timer_timeout"]
